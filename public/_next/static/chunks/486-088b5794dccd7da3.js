(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[486],{1646:function(e,a,n){var s={"./pg/TicketDetails.scss":[1114,114],"./stanleybet/TicketDetails.scss":[6173,173]};function t(e){if(!n.o(s,e))return Promise.resolve().then((function(){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}));var a=s[e],t=a[0];return n.e(a[1]).then((function(){return n.t(t,23)}))}t.keys=function(){return Object.keys(s)},t.id=1646,e.exports=t},8291:function(e,a,n){"use strict";n.d(a,{B:function(){return s},b:function(){return t}});var s=[{name:"Username",accessor:"username",sortable:!0},{name:"Level",accessor:"level",sortable:!0},{name:"Created at",accessor:"created_at",sortable:!0},{name:"Updated at",accessor:"updated_at",sortable:!0}];function t(e){var a;switch(e.level){case"root":a=[{label:"Select an option",value:""},{label:"admin",value:"2"},{label:"support",value:"3"},{label:"analyst",value:"4"}];break;case"admin":a=[{label:"Select an option",value:""},{label:"support",value:"3"},{label:"analyst",value:"4"}];break;case"support":case"analyst":a=[{label:"Select an option",value:""},{label:"analyst",value:"4"}];break;default:console.warn("ERROR GETIN USER LEVEL")}return a}},9490:function(e,a,n){"use strict";n.d(a,{Z:function(){return h}});var s=n(4246),t=n(8021),r=n(7378),i=n(6249),o=n(5034),l=n(169),u=n(2050),c=n(9894),d=n.n(c),p=n(66),m=n(7228),f=n(4047),g=n(6677),v=function(e){var a=e.showLogo,n=function(e){y||S()},c=(0,t.a)({middleware:"auth"}),v=c.user,h=c.logout,x=(0,r.useContext)(i.pI).openAsidePanel,b=(0,u.Z)((0,r.useState)(!1),2),j=b[0],Z=b[1],_=(0,r.useContext)(i.Ni),w=_.isDarkMode,k=_.setDarkMode,N=(0,g.useRouter)().pathname,C=(0,r.useContext)(i.lm),y=C.isCollapsed,S=C.toggle,P=(0,r.useCallback)((function(){return console.log("updating profile and kuberneting "),!0}),[]),I=(0,r.useCallback)((function(e){console.log("yoooo its me userrr in sidebar",e),x({isOpen:!0,title:"Profile",content:(0,s.jsx)(f.f8,{user:e,updateUser:P})})}),[]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"l-navigation-bar ",children:(0,s.jsx)("div",{className:"p-panel is-dark",children:(0,s.jsxs)("div",{className:"p-panel__header",children:["true"==a&&(0,s.jsx)(d(),{href:"/",legacyBehavior:!0,children:(0,s.jsx)("a",{className:"p-panel__logo ".concat(a),children:(0,s.jsx)("img",{className:"p-panel__logo-icon",src:"https://marketing.pg.company/cdn1/pgvirtual-blue.png",style:{height:"1.5rem"},alt:"PGVirtual logo"})})}),(0,s.jsx)("div",{className:"p-panel__controls",children:(0,s.jsx)(p.zx,{hasIcon:!0,onClick:S,className:"u-hide--medium",children:(0,s.jsx)(p.JO,{name:p.UZ.menu})})})]})})}),(0,s.jsx)("header",{className:"l-navigation is-dark "+(y?"is-collapsed":""),children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"l-navigation__drawer sidebar p-side-navigation--accordion",children:(0,s.jsxs)("div",{className:"p-panel",children:[(0,s.jsxs)("div",{className:"p-panel__header",children:["true"==a||1==a&&(0,s.jsx)("a",{className:"p-panel__logo ".concat(a),href:"#",children:(0,s.jsx)("img",{className:"p-navigation__image",src:"https://marketing.pg.company/cdn1/pgvirtual-blue.png",style:{height:"1.5rem"},alt:"PG Virtual logo"})}),(0,s.jsx)("div",{className:"p-panel__controls u-hide--large",children:(0,s.jsx)(p.zx,{hasIcon:!0,onClick:function(e){y||S(),e.target.blur()},appearance:"base",className:"u-hide--medium u-no-margin",children:(0,s.jsx)(p.JO,{name:p.UZ.close})})})]}),(0,s.jsx)("div",{className:"p-panel__content",children:(0,s.jsxs)("nav",{className:"p-side-navigation--icons is-dark","aria-label":"Main",children:[(0,s.jsxs)("ul",{className:"p-side-navigation__list",children:[(0,s.jsx)("li",{className:"p-side-navigation__item l-fluid-breakout u-no-padding",id:"sidemenu-dashboard-button",children:(0,s.jsx)(d(),{href:"/manager",legacyBehavior:!0,children:(0,s.jsxs)("a",(0,l.Z)((0,o.Z)({onClick:function(){n()},className:"p-side-navigation__link"},("/"==N||"/"==N)&&{"aria-current":"page"}),{children:[(0,s.jsx)(m.xng,{className:"is-light p-side-navigation__icon"}),(0,s.jsx)("span",{className:"p-side-navigation__label",children:"Dashboard"})]}))})}),(0,s.jsx)("li",{className:"p-side-navigation__item l-fluid-breakout u-no-padding",children:(0,s.jsx)(d(),{href:"/manager/users",legacyBehavior:!0,children:(0,s.jsxs)("a",(0,l.Z)((0,o.Z)({id:"sidemenu-user-button",onClick:function(){return n()},className:"p-side-navigation__link"},"/users"==N&&{"aria-current":"page"}),{children:[(0,s.jsx)(m.I$,{className:"is-light p-side-navigation__icon"}),(0,s.jsx)("span",{className:"p-side-navigation__label",children:"Users"})]}))})}),(0,s.jsx)("li",{className:"p-side-navigation__item l-fluid-breakout u-no-padding",children:(0,s.jsx)(d(),{href:"/manager/tickets",legacyBehavior:!0,children:(0,s.jsxs)("a",(0,l.Z)((0,o.Z)({id:"sidemenu-ticketlist-button",onClick:function(){return n()},className:"p-side-navigation__link"},"/tickets"==N&&{"aria-current":"page"}),{children:[(0,s.jsx)(m.V_i,{className:"is-light p-side-navigation__icon"}),(0,s.jsx)("span",{className:"p-side-navigation__label",children:"Ticket List"})]}))})}),(0,s.jsx)("li",{className:"p-side-navigation__item l-fluid-breakout u-no-padding",children:(0,s.jsx)(d(),{href:"/manager/summary",legacyBehavior:!0,children:(0,s.jsxs)("a",(0,l.Z)((0,o.Z)({id:"sidemenu-ticketsummary-button",onClick:function(){return n()},className:"p-side-navigation__link"},"/summary"==N&&{"aria-current":"page"}),{children:[(0,s.jsx)(m.rpp,{className:"is-light p-side-navigation__icon"}),(0,s.jsx)("span",{className:"p-side-navigation__label",children:"Summary"})]}))})}),(0,s.jsx)("li",{className:"p-side-navigation__item l-fluid-breakout u-no-padding",children:(0,s.jsx)(d(),{href:"/manager/viewers",legacyBehavior:!0,children:(0,s.jsxs)("a",(0,l.Z)((0,o.Z)({id:"sidemenu-viewers-button",onClick:function(){return n()},className:"p-side-navigation__link"},"/viewers"==N&&{"aria-current":"page"}),{children:[(0,s.jsx)(m.RsC,{className:"is-light p-side-navigation__icon"}),(0,s.jsx)("span",{className:"p-side-navigation__label",children:"Viewers"})]}))})})]}),(0,s.jsx)("ul",{className:"p-side-navigation__list is-fading-when-collapsed",children:(0,s.jsx)("li",{className:"p-side-navigation__item",children:(0,s.jsx)("p",{className:"u-align-text--center",children:"3.0.24"})})})]})}),(0,s.jsx)("div",{className:"p-side-navigation--accordion ",id:"drawer",children:(0,s.jsx)("nav",{"aria-label":"",style:{backgroundColor:"#12324a",color:"white"},children:(0,s.jsx)("ul",{className:"p-side-navigation__list",children:(0,s.jsxs)("li",{className:"p-side-navigation__item",children:[(0,s.jsx)("button",{className:"p-side-navigation__accordion-button","aria-expanded":j,onClick:function(){return Z(!j)},children:(0,s.jsxs)("span",{className:"u-has-icon",children:[(0,s.jsx)("i",{className:"p-icon--user is-light"}),null===v||void 0===v?void 0:v.username]})}),(0,s.jsxs)("ul",{className:"p-side-navigation__list","aria-expanded":j,children:[(0,s.jsx)("li",{className:"p-side-navigation__item",children:(0,s.jsx)("span",{className:"p-side-navigation__link",onClick:function(){I(v)},style:{color:"white"},children:"Profile"})}),(0,s.jsx)("li",{className:"p-side-navigation__item",children:(0,s.jsxs)("label",{className:"p-switch p-side-navigation__link",children:[(0,s.jsx)("input",{type:"checkbox",className:"p-switch__input",role:"switch",onChange:function(){0==w?(localStorage.setItem("theme",!0),k(!0)):(localStorage.setItem("theme",!1),k(!1))},defaultChecked:w}),(0,s.jsx)("span",{className:"p-switch__slider"}),(0,s.jsx)("span",{className:"p-switch__label",style:{color:"white"},children:"Dark mode"})]})}),(0,s.jsx)("li",{className:"p-side-navigation__item",children:(0,s.jsx)("a",{className:"p-side-navigation__link",children:(0,s.jsxs)(p.zx,{style:w?{color:"white"}:{color:"black"},className:w?"is-dark":"",onClick:function(){h()},hasIcon:!0,children:[(0,s.jsx)("i",{className:"p-icon--power-off"}),(0,s.jsx)("span",{children:"Logout"})]})})})]})]})})})})]})})})})]})},h=function(e){var a=e.children,n=e.asidePanel,o=(0,t.a)({middleware:"auth"}).user,l=(0,r.useContext)(i.Ni),u=l.isDarkMode,c=l.showLogo,d=l.setShowLogo;(0,r.useContext)(i.p).tour;return(0,r.useEffect)((function(){var e=window.location.search.substring(1).split("&");console.log(e);for(var a=0;a<e.length;a++){var n=e[a].split("=");"show_logo"==n[0]&&(console.log("showLogo is ",n[1]),d(n[1]))}console.log("showLog after useEffect",c)}),[]),o?(0,s.jsxs)("div",{className:"l-application",role:"presentation",children:[(0,s.jsx)(v,{showLogo:c}),(0,s.jsx)("main",{className:"l-main",children:a}),n&&(0,s.jsx)("aside",{ref:n.ref,className:"l-aside is-jaas ".concat(n.isOpen?"":"is-collapsed"," ").concat(u?"is-dark":""),id:"aside-panel",children:(0,s.jsxs)("div",{className:"p-panel ".concat(u?"is-dark":""),children:[(0,s.jsxs)("div",{className:"p-panel__header",children:[(0,s.jsx)("h4",{className:"p-panel__title",children:n.title}),(0,s.jsx)("div",{className:"p-panel__controls",children:(0,s.jsx)("button",{className:"p-button--base js-aside-close u-no-margin--bottom has-icon",onClick:n.closeAsidePanel,children:(0,s.jsx)("i",{className:"p-icon--close"})})})]}),(0,s.jsx)("div",{className:"p-panel__content",children:n.content})]})})]}):null}},4506:function(e,a,n){"use strict";var s=n(4246),t=n(7378),r=n(66),i=n(6249);a.Z=function(){var e=(0,t.useContext)(i.Ni).isDarkMode;return(0,s.jsx)("div",{className:"p-panel u-align--center u-vertically-center "+(e?"is-dark":"is-none"),children:(0,s.jsx)("div",{className:"p-strip"+(e?"is-dark":""),children:(0,s.jsx)(r.$j,{text:"Loading..."})})})}},4047:function(e,a,n){"use strict";n.d(a,{AI:function(){return w},wE:function(){return N},R4:function(){return y},w8:function(){return P},f8:function(){return B},hy:function(){return E},$B:function(){return D}});var s=n(5034),t=n(169),r=n(2050),i=n(4246),o=n(7378),l=n(66),u=n(6249),c=n(8291),d=n(9895),p=function(e){var a=e.onSubmit,n=e.submitText,p=e.isWaiting,m=e.username,f=void 0===m?"":m,g=e.level,v=void 0===g?"":g,h=e.password,x=void 0===h?"":h,b=e.confirmPassword,j=void 0===b?"":b,Z=e.validations,_=e.auth,w=(0,r.Z)((0,o.useState)({username:f,level:v,password:x,confirmPassword:j}),2),k=w[0],N=w[1],C=(0,o.useContext)(u.Ni).isDarkMode,y=(0,d.useTranslation)("").t,S=(0,c.b)(_),P=[{label:y("user.language.default"),value:""},{label:y("user.english"),value:"en-US"}];return(0,o.useEffect)((function(){N({username:f,level:v,password:x,confirmPassword:j})}),[f,v,x,j]),(0,i.jsxs)(l.l0,{id:"user-create-form",children:[(0,i.jsx)(l.II,{id:"username-input",className:C?"is-dark":"",type:"text",label:y("user.panel.username"),required:!0,onChange:function(e){var a=e.target.value;N((0,t.Z)((0,s.Z)({},k),{username:a}))},value:k.username,error:Z.username}),(0,i.jsx)(l.Ph,{id:"level-input",className:C?"is-dark":"",defaultValue:k?k.level:"",label:y("user.panel.level"),required:!0,options:S,onChange:function(e){var a=e.target.value;N((0,t.Z)((0,s.Z)({},k),{level:a}))},error:Z.level}),(0,i.jsx)(l.Ph,{id:"language",className:C?"is-dark":"",defaultValue:k?k.language:"",label:y("user.language.label"),required:!0,options:P,onChange:function(e){var a=e.target.value;N((0,t.Z)((0,s.Z)({},k),{language:a}))},error:Z.language}),(0,i.jsx)(l.tm,{className:C?"is-dark":"",id:"password-input",label:y("user.password"),type:"button",onChange:function(e){var a=e.target.value;N((0,t.Z)((0,s.Z)({},k),{password:a}))},error:Z.password}),(0,i.jsx)(l.tm,{className:C?"is-dark":"",id:"confirm-password-input",label:y("user.confirm_password"),type:"button",onChange:function(e){var a=e.target.value;N((0,t.Z)((0,s.Z)({},k),{confirmPassword:a}))},error:Z.confirmPassword}),(0,i.jsxs)(l.zx,{id:"create-user-button",appearance:"positive",hasIcon:p,onClick:function(e){e.preventDefault(),a({args:k})},children:[p&&(0,i.jsx)(l.$j,{text:n}),!p&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("i",{className:"p-icon--plus is-light"})," ",(0,i.jsx)("span",{children:n})]})]})]})},m=function(e){var a=e.onSubmit,n=e.submitText,c=void 0===n?"Submit":n,d=e.isWaiting,p=e.username,m=void 0===p?"":p,f=e.level,g=void 0===f?"":f,v=e.enabled,h=void 0===v?1:v,x=e.password,b=void 0===x?"":x,j=e.confirmPassword,Z=void 0===j?"":j,_=e.language,w=void 0===_?"":_,k=e.validations,N=(0,r.Z)((0,o.useState)({username:m,level:g,enabled:h,password:b,confirmPassword:Z,language:w}),2),C=N[0],y=N[1],S=(0,o.useContext)(u.Ni).isDarkMode,P=(0,r.Z)((0,o.useState)(!1),2),I=P[0],D=P[1];(0,o.useEffect)((function(){y({username:m,level:E[g],enabled:h,password:b,confirmPassword:Z,language:w})}),[m,g,h,b,Z,w]);var E={analyst:"4",support:"3",admin:"2"};return(0,i.jsxs)(l.l0,{children:[(0,i.jsx)(l.II,{type:"text",label:"Username",className:S?"is-dark":"",onChange:function(e){var a=e.target.value;y((0,t.Z)((0,s.Z)({},C),{username:a}))},value:C.username,error:k.username}),(0,i.jsx)(l.Ph,{className:S?"is-dark":"",defaultValue:E[C.level],label:"Level",options:[{label:"admin",value:"2"},{label:"support",value:"3"},{label:"analyst",value:"4"}],onChange:function(e){var a=e.target.value;y((0,t.Z)((0,s.Z)({},C),{level:a}))},error:k.level}),(0,i.jsx)(l.Ph,{id:"language",className:S?"is-dark":"",defaultValue:C?C.language:"",label:"Language",required:!0,options:[{label:"Select an option",value:""},{label:"English - United States",value:"en-US"},{label:"Italian",value:"it-IT"}],onChange:function(e){var a=e.target.value;y((0,t.Z)((0,s.Z)({},C),{language:a}))},error:k.language}),(0,i.jsx)(l.I0,{label:"Enabled",defaultChecked:C.enabled,onClick:function(e){y((0,t.Z)((0,s.Z)({},C),{enabled:!C.enabled}))}}),(0,i.jsx)(l.tm,{className:S?"is-dark":"",id:"form-user-password",label:"Password",type:"button",onChange:function(e){var a=e.target.value;y((0,t.Z)((0,s.Z)({},C),{password:a})),I||D(!0)},error:k.password}),I&&(0,i.jsx)(l.tm,{className:S?"is-dark":"",id:"form-user-confirm-password",label:"Confirm Password",type:"button",onChange:function(e){var a=e.target.value;y((0,t.Z)((0,s.Z)({},C),{confirmPassword:a}))},error:k.confirmPassword}),(0,i.jsxs)(l.zx,{appearance:"positive",hasIcon:d,onClick:function(e){a({args:C}),e.preventDefault()},children:[d&&(0,i.jsx)(l.$j,{text:c}),!d&&(0,i.jsx)("span",{children:c})]})]})},f=n(3204),g=function(e){var a=e.onSubmit,n=e.submitText,c=e.isWaiting,p=e.macaddress,m=void 0===p?"":p,g=e.user,v=void 0===g?"":g,h=e.monitor,x=void 0===h?"":h,b=e.channel,j=void 0===b?"":b,Z=e.language,_=void 0===Z?"":Z,w=e.videoURL,k=void 0===w?"":w,N=e.validations,C=e.availableData,y=(0,r.Z)((0,o.useState)({macaddress:m,user:v,monitor:x,channel:j,language:_,videoURL:k}),2),S=y[0],P=y[1],I=(0,o.useContext)(u.Ni).isDarkMode,D=(0,d.useTranslation)("").t;(0,o.useContext)(u.pI).closeAsidePanel;return(0,o.useEffect)((function(){P({macaddress:m,user:v,monitor:x,channel:j,language:_,videoURL:k})}),[m,v,x,j,_]),(0,i.jsxs)(l.l0,{children:[(0,i.jsx)(l.II,{className:I?"is-dark":"",type:"text",label:D("viewer.panel.macaddress"),required:!0,onChange:function(e){var a=e.target.value;P((0,t.Z)((0,s.Z)({},S),{macaddress:a}))},error:N.macaddress}),(0,i.jsx)(l.Ph,{className:I?"is-dark":"",label:D("viewer.panel.user"),required:!0,options:[{value:"",disabled:!1,label:D("input.select_default")}].concat((0,f.Z)((C.shops||[]).map((function(e){return{value:e.id,label:e.name}})))),onChange:function(e){var a=e.target.value;P((0,t.Z)((0,s.Z)({},S),{user:a}))},error:N.user}),(0,i.jsx)(l.II,{className:I?"is-dark":"",type:"text",label:D("viewer.panel.monitor"),required:!0,onChange:function(e){var a=e.target.value;P((0,t.Z)((0,s.Z)({},S),{monitor:a}))},error:N.monitor}),(0,i.jsx)(l.Ph,{className:I?"is-dark":"",label:D("viewer.panel.channel"),required:!0,options:[{value:"",disabled:!1,label:D("input.select_default")}].concat((0,f.Z)((C.channels||[]).map((function(e){return{value:e.id,label:e.name+" - "+e.game}})))),onChange:function(e){var a=e.target.value;P((0,t.Z)((0,s.Z)({},S),{channel:a}))},error:N.channel}),(0,i.jsx)(l.Ph,{className:I?"is-dark":"",label:D("viewer.pangel.language"),required:!0,options:[{value:"",disabled:!1,label:D("input.select_default")}].concat((0,f.Z)((C.languages||[]).map((function(e){return{value:e.id,label:e.name}})))),onChange:function(e){var a=e.target.value;P((0,t.Z)((0,s.Z)({},S),{language:a}))},error:N.language}),(0,i.jsx)(l.II,{className:I?"is-dark":"",type:"text",label:D("viewer.panel.video_url"),required:!0,onChange:function(e){var a=e.target.value;P((0,t.Z)((0,s.Z)({},S),{videoURL:a}))},error:N.videoURL}),(0,i.jsxs)(l.zx,{appearance:"positive",hasIcon:c,onClick:function(e){a({args:S}),e.preventDefault()},children:[c&&(0,i.jsx)(l.$j,{text:n}),!c&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("i",{className:"p-icon--plus is-light"}),(0,i.jsx)("span",{children:n})]})]})]})},v=function(e){var a=e.onSubmit,n=e.submitText,c=e.isWaiting,p=e.macaddress,m=void 0===p?"":p,g=e.user,v=void 0===g?"":g,h=e.monitor,x=void 0===h?"":h,b=e.channel,j=void 0===b?"":b,Z=e.language,_=void 0===Z?"":Z,w=e.videoURL,k=void 0===w?"":w,N=e.values,C=void 0===N?[]:N,y=e.validations,S=(0,r.Z)((0,o.useState)({macaddress:m,user:v,monitor:x,channel:j,language:_,videoURL:k}),2),P=S[0],I=S[1],D=(0,o.useContext)(u.Ni).isDarkMode,E=(0,d.useTranslation)("").t,B=(0,o.useContext)(u.pI).closeAsidePanel;return(0,o.useEffect)((function(){I({macaddress:m,user:v,monitor:x,channel:j,language:_,videoURL:k})}),[m,v,x,j,_]),(0,i.jsxs)(l.l0,{children:[(0,i.jsx)(l.II,{className:D?"is-dark":"",type:"text",label:E("viewer.panel.macaddress"),onChange:function(e){var a=e.target.value;I((0,t.Z)((0,s.Z)({},P),{macaddress:a}))},value:P.macaddress,error:y.macaddress}),(0,i.jsx)(l.Ph,{className:D?"is-dark":"",defaultValue:P.user,label:E("viewer.panel.user"),options:[{value:"",disabled:!1,label:E("input.select_default")}].concat((0,f.Z)((C.shops||[]).map((function(e){return{value:e.id,label:e.name}})))),onChange:function(e){var a=e.target.value;I((0,t.Z)((0,s.Z)({},P),{user:a}))},error:y.shops}),(0,i.jsx)(l.II,{className:D?"is-dark":"",type:"text",label:E("viewer.panel.monitor"),onChange:function(e){var a=e.target.value;I((0,t.Z)((0,s.Z)({},P),{monitor:a}))},value:P.monitor,error:y.monitor}),(0,i.jsx)(l.Ph,{className:D?"is-dark":"",defaultValue:P.channel,label:E("viewer.panel.channel"),options:[{value:"",disabled:!1,label:E("viewer.input.select_default")}].concat((0,f.Z)((C.channels||[]).map((function(e){return{value:e.id,label:e.name+" - "+e.game}})))),onChange:function(e){var a=e.target.value;I((0,t.Z)((0,s.Z)({},P),{channel:a}))},error:y.channels}),(0,i.jsx)(l.Ph,{className:D?"is-dark":"",defaultValue:P.language,label:E("viwer.panel.language"),options:[{value:"",disabled:!1,label:E("viewer.input.select_default")}].concat((0,f.Z)((C.languages||[]).map((function(e){return{value:e.id,label:e.name}})))),onChange:function(e){var a=e.target.value;I((0,t.Z)((0,s.Z)({},P),{language:a}))},error:y.languages}),(0,i.jsx)(l.II,{className:D?"is-dark":"",type:"text",label:E("viewer.panel.video_url"),onChange:function(e){var a=e.target.value;I((0,t.Z)((0,s.Z)({},P),{videoURL:a}))},value:P.videoURL,error:y.videoURL}),(0,i.jsxs)(l.zx,{appearance:"positive",hasIcon:c,onClick:function(e){a({args:P,onSuccess:function(e){B()},onError:function(e){}}),e.preventDefault()},children:[c&&(0,i.jsx)(l.$j,{text:n}),!c&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("i",{className:"p-icon--plus is-light"})," ",(0,i.jsx)("span",{children:n})]})]})]})},h=n(8300),x=n(7542),b=function(e){var a=e.onSubmit,n=e.isWaiting,c=e.submitText,p=void 0===c?"Submit":c,m=e.shops,g=void 0===m?[]:m,v=e.users,b=void 0===v?[]:v,j=e.fromDate,Z=void 0===j?"":j,_=e.toDate,w=void 0===_?"":_,k=e.type,N=void 0===k?"":k,C=e.groupBy,y=void 0===C?"":C,S=e.validations,P=e.shopAndUserFilterData,I=(0,d.useTranslation)("").t,D=(0,o.useContext)(u.Ni).isDarkMode,E=(0,r.Z)((0,o.useState)({shops:g,users:b,fromDate:Z,toDate:w,type:N,groupBy:y}),2),B=E[0],U=E[1],L=(0,x.X$)(),A=[],T=[],R=[];B.shops.length>0&&""!=B.shops[0]&&B.shops.forEach((function(e,a){return R=(0,f.Z)(R).concat([{lead:I("tickets.advance_filter.id"),value:e}])}));var M=[];B.users.length>0&&""!=B.users[0]&&B.users.forEach((function(e,a){return M=(0,f.Z)(M).concat([{lead:I("tickets.advance_filter.id"),value:e}])}));var V=(0,r.Z)((0,o.useState)(""),2),F=V[0],q=V[1],O=(0,o.useMemo)((function(){return"users"==F||b[0]||"users"==y}),[F]),W=(0,o.useMemo)((function(){return"shops"==F||g[0]||"shops"==y}),[F]);if(!P)return(0,i.jsx)("div",{className:"u-align--center u-align-text--center u-vertically-center test",children:(0,i.jsx)(h.Loader,{})});var z=g[0]?"shops":b[0]?"users":y||"";return(0,i.jsxs)("div",{className:"u-fixed-width",children:[(0,i.jsx)("div",{children:(0,i.jsx)(l.Ph,{className:D?"is-dark":"",name:"filters",defaultValue:z,options:[{value:"",label:I("tickets.advance_filter.filters.all")},{value:"shops",label:I("tickets.advance_filter.filters.shops")},{value:"users",label:I("tickets.advance_filter.filters.users")}],label:I("tickets.advance_filter.filters.title"),onChange:function(e){q(e.target.value)},error:S.groupBy})}),O&&(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{children:I("ticket.advance_filter.filters.searchNfilterTitleUsers")}),(0,i.jsx)(l.BA,{filterPanelData:P.users,returnSearchData:function(e){!function(e){var a=[];e.map((function(e,n){return a=(0,f.Z)(a).concat([e.value])})),A=a}(e)},existingSearchData:M}),S.users&&(0,i.jsx)("div",{className:"p-notification--negative",children:(0,i.jsx)("div",{className:"p-notification__content",children:(0,i.jsx)("p",{className:"p-notification__message",children:S.users})})})]}),W&&(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{children:I("ticket.advance_filter.filters.searchFilterTitleShops")}),(0,i.jsx)(l.BA,{filterPanelData:P.shops,returnSearchData:function(e){!function(e){var a=[];e.map((function(e,n){return a=(0,f.Z)(a).concat([e.value])})),T=a}(e)},existingSearchData:R}),S.shops&&(0,i.jsx)("div",{className:"p-notification--negative",children:(0,i.jsx)("div",{className:"p-notification__content",children:(0,i.jsx)("p",{className:"p-notification__message",children:S.shops})})})]}),(0,i.jsx)(l.Ph,{className:D?"is-dark":"",id:"exampleSelectMulti2",defaultValue:N||"transaction",options:[{value:"transaction",label:I("ticket.advance_filters.filters.type.transaction")},{value:"summary",label:I("ticket.advance_filters.filters.type.summary")}],label:I("ticket.advance_filters.filters.type.label"),onChange:function(e){var a=e.target.value;U((0,t.Z)((0,s.Z)({},B),{type:a}))},error:S.type}),(0,i.jsx)(l.II,{type:"date",className:D?"is-dark":"",label:I("ticket.advance_filter.from"),defaultValue:Z,max:L,onChange:function(e){var a=e.target.value;U((0,t.Z)((0,s.Z)({},B),{fromDate:a}))},error:S.fromDate}),(0,i.jsx)(l.II,{type:"date",className:D?"is-dark":"",label:I("ticket.advance_filter.to"),name:"toDate",max:L,defaultValue:w,onChange:function(e){var a=e.target.value;U((0,t.Z)((0,s.Z)({},B),{toDate:a}))},error:S.toDate}),(0,i.jsx)(l.Ph,{className:D?"is-dark":"",name:"groupBy",defaultValue:y||"",options:[{value:"",label:I("ticket.advance_filters.filters.groupBy.default")}].concat((0,f.Z)(W&&!O?[{value:"shops",label:I("ticket.advance_filters.filters.groupBy.shops")}]:[]),(0,f.Z)(!W&&O?[{value:"users",label:I("ticket.advance_filters.filters.groupBy.users")}]:[]),(0,f.Z)(W||O?[]:[{value:"users",label:I("ticket.advance_filters.filters.groupBy.users")},{value:"shops",label:I("ticket.advance_filters.filters.groupBy.shops")}])),label:I("ticket.groupBy"),onChange:function(e){var a=e.target.value;U((0,t.Z)((0,s.Z)({},B),{groupBy:a}))},error:S.groupBy}),(0,i.jsxs)(l.zx,{appearance:"positive",hasIcon:n,onClick:function(e){a({formData:B,shops:T,users:A}),e.preventDefault()},className:D?"is-dark":"",children:[n&&(0,i.jsx)(l.$j,{text:p}),!n&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("i",{className:"p-icon--plus is-light"})," ",(0,i.jsx)("span",{children:p})]})]})]})},j=function(e){var a=e.onSubmit,n=e.submitText,c=e.isWaiting,p=e.password,m=void 0===p?"":p,f=e.confirmPassword,g=void 0===f?"":f,v=e.language,h=void 0===v?"":v,x=e.username,b=void 0===x?"":x,j=e.operator,Z=e.validations,_=(e.message,(0,r.Z)((0,o.useState)({password:m,confirmPassword:g,language:h}),2)),w=_[0],k=_[1],N=(0,d.useTranslation)("").t,C=(0,o.useContext)(u.Ni).isDarkMode,y=(0,r.Z)((0,o.useState)(!1),2),S=y[0],P=y[1];(0,o.useEffect)((function(){k({password:m,confirmPassword:g,language:h,username:b,operator:j})}),[m,g,h]);var I=[{label:N("user.panel.language.default"),value:""},{label:N("user.panel.language.english"),value:"en-US"}];return(0,i.jsxs)(l.l0,{children:[w.username&&(0,i.jsxs)("p",{children:[N("user.profile.username")," ",w.username," "]}),w.operator&&(0,i.jsxs)("p",{children:[N("user.profile.operaotr")," ",w.operator," "]}),(0,i.jsx)(l.Ph,{id:"language",className:C?"is-dark":"",defaultValue:w?w.language:"",label:N("user.panel.language"),required:!0,options:I,onChange:function(e){var a=e.target.value;k((0,t.Z)((0,s.Z)({},w),{language:a}))},error:Z.language}),(0,i.jsx)(l.tm,{className:C?"is-dark":"",id:"form-user-password",label:N("user.panel.password"),type:"button",onChange:function(e){var a=e.target.value;k((0,t.Z)((0,s.Z)({},w),{password:a})),S||P(!0)},error:Z.password}),S&&(0,i.jsx)(l.tm,{className:C?"is-dark":"",id:"form-user-confirm-password",label:N("user.panel.confirm_password"),type:"button",onChange:function(e){var a=e.target.value;k((0,t.Z)((0,s.Z)({},w),{confirmPassword:a}))},error:Z.confirmPassword}),(0,i.jsxs)(l.zx,{appearance:"positive",hasIcon:c,onClick:function(e){a({args:w}),e.preventDefault()},children:[c&&(0,i.jsx)(l.$j,{text:n}),!c&&(0,i.jsx)("span",{children:n})]})]})},Z=n(4862),_=n(4367),w=(n(5071),function(e){var a=e.ticketId,n=(0,o.useContext)(u.pI).closeAsidePanel,s=!0,t=(0,r.Z)((0,o.useState)(new d.Dict),2),l=t[0],c=(t[1],(0,r.Z)((0,o.useState)(!0),2)),p=c[0],m=c[1],g=(0,r.Z)((0,o.useState)(),2),v=g[0],x=g[1];["betType"].concat((0,f.Z)(["paydate"]),["status","amount_won"],(0,f.Z)(["terminal","datePayment","dateCancellation"]),["amount","potential_max_win"]);return(0,o.useEffect)((function(){(0,Z.UI)({params:{ticketId:a},onSuccess:function(e){m(!1),x((new _.YX).fromJSON(e)),l.setData(e.dict)},onError:function(){m(!1)}})}),[]),p||!v?(0,i.jsx)(h.Loader,{}):(0,i.jsx)(_.rz,{showHeader:!1,dict:l,ticket:v,isUserRetail:s,isOneColumnLayout:!1,onCloseButtonClick:function(){n()},customRows:[],partnerName:"pg"})}),k=n(1454),N=function(e){var a=e.shops,n=void 0===a?[]:a,s=e.users,t=void 0===s?[]:s,l=e.fromDate,c=void 0===l?"":l,p=e.toDate,m=void 0===p?"":p,f=e.type,g=void 0===f?"":f,v=e.groupBy,h=void 0===v?"":v,x=(e.validations,e.updatePage),j=((0,o.useContext)(u.Ni).isDarkMode,(0,o.useContext)(u.pI).closeAsidePanel),_=(0,r.Z)((0,o.useState)(!1),2),w=_[0],N=_[1],C=(0,r.Z)((0,o.useState)(),2),y=C[0],S=C[1],P=(0,r.Z)((0,o.useState)({shops:"",users:"",fromDate:"",toDate:"",type:"",groupBy:""}),2),I=P[0],D=P[1],E=(0,d.useTranslation)("").t;return(0,o.useEffect)((function(){(0,Z.aZ)({onSuccess:function(e){S(e)},onError:function(e){N(!1)}})}),[]),(0,i.jsx)(b,{isWaiting:w,onSubmit:function(e){N(!0),(0,Z.Q2)({params:{shops:e.shops,users:e.users,fromDate:e.formData.fromDate,toDate:e.formData.toDate,type:e.formData.type,groupBy:e.formData.groupBy},onSuccess:function(e){N(!1),x(e),j(),(0,k.Am)(E("successful.ticketFilter"),{hideProgressBar:!0,autoClose:2e3,type:"success"})},onError:function(e){(0,k.Am)(E("error.ticketFilter"),{hideProgressBar:!0,autoClose:2e3,type:"error"}),e.errors&&D(e.errors)}})},validations:I,shopAndUserFilterData:y,shops:n,users:t,fromDate:c,toDate:m,type:g,groupBy:h})},C=n(5630),y=function(e){var a=e.updatePage,n=e.auth,s=(0,r.Z)((0,o.useState)(!1),2),t=s[0],l=(s[1],(0,r.Z)((0,o.useState)({username:"",level:"",password:"",confirmPassword:""}),2)),c=l[0],m=l[1],f=(0,o.useContext)(u.pI).closeAsidePanel,g=(0,d.useTranslation)("").t;return(0,i.jsx)("div",{className:"u-fixed-width",children:(0,i.jsx)(p,{isWaiting:t,onSubmit:function(e){(0,C.Q0)({args:e,onSuccess:function(e){f(),(0,k.Am)(g("successful.userCreate"),{hideProgressBar:!0,autoClose:2e3,type:"success"}),a()},onError:function(e){(0,k.Am)(g("error.userCreate"),{hideProgressBar:!0,autoClose:2e3,type:"error"}),e.errors&&m(e.errors)}})},validations:c,auth:n,submitText:g("submit")})})},S=n(4506),P=function(e){var a=e.userId,n=e.updatePage,s=(0,r.Z)((0,o.useState)(!0),2),t=s[0],c=s[1],p=(0,r.Z)((0,o.useState)(""),2),f=p[0],g=p[1],v=(0,r.Z)((0,o.useState)([]),2),h=v[0],x=v[1],b=(0,r.Z)((0,o.useState)({username:"",enabled:!0,level:"",language:""}),2),j=b[0],Z=b[1],_=((0,o.useContext)(u.Ni).isDarkMode,(0,o.useContext)(u.pI).closeAsidePanel),w=(0,r.Z)((0,o.useState)({username:"",level:"",enabled:"",password:"",confirmPassword:""}),2),N=w[0],y=w[1],P=(0,d.useTranslation)("").t;return(0,o.useEffect)((function(){a&&(0,C.Fp)({userId:a,onSuccess:function(e){g(e.message),x(e.errors||[]),c(!1),Z(e.details)},onError:function(e){(0,k.Am)(P("error.userDetails"),{hideProgressBar:!0,autoClose:2e3,type:"error"})}})}),[a]),t?(0,i.jsx)(S.Z,{}):(0,i.jsxs)("div",{className:"u-fixed-width",children:[(0,i.jsx)(m,{isWaiting:t,message:f,errors:h,submitText:P("user.panel.button_edit"),username:j.username,enabled:j.enabled,level:j.level,language:j.language,onSubmit:function(e){(0,C.w8)({args:e,userId:a,onSuccess:function(e){g(e.message),x(e.errors||[]),(0,k.Am)(P("successful.userUpdate"),{hideProgressBar:!0,autoClose:2e3,type:"success"}),n(),_()},onError:function(e){(0,k.Am)(P("error.userDelete"),{hideProgressBar:!0,autoClose:2e3,type:"error"}),e.errors&&y(e.errors)}})},validations:N}),(0,i.jsx)(l.UQ,{sections:[{content:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(l.zx,{appearance:"negative",onClick:function(){(0,C.dd)({userId:a,onSuccess:function(e){g(e.message),(0,k.Am)(P("successful.userDelete"),{hideProgressBar:!0,autoClose:2e3,type:"success"}),n(),_()},onError:function(e){(0,k.Am)(P("error.userDelete"),{hideProgressBar:!0,autoClose:2e3,type:"error"})}})},children:P("user.panel.advanced.button")})}),title:P("user.panel.advanced.title")}]})]})},I=n(7554),D=function(e){var a=e.viewerId,n=e.updatePage,s=(0,r.Z)((0,o.useState)(!0),2),t=s[0],c=s[1],p=(0,r.Z)((0,o.useState)(""),2),m=p[0],f=p[1],g=(0,r.Z)((0,o.useState)([]),2),h=g[0],x=g[1],b=(0,r.Z)((0,o.useState)({macaddress:"",user:"",monitor:"",channel:"",language:"",videoURL:""}),2),j=b[0],Z=b[1],_=(0,o.useContext)(u.pI).closeAsidePanel,w=(0,r.Z)((0,o.useState)(),2),N=w[0],C=w[1],y=(0,r.Z)((0,o.useState)({macaddress:"",user:"",monitor:"",channel:"",language:"",videoURL:""}),2),P=y[0],D=y[1],E=(0,d.useTranslation)("").t;return(0,o.useEffect)((function(){a&&(0,I.bP)({viewerId:a,onSuccess:function(e){f(e.message),x(e.errors||[]),c(!1),Z(e.viewer),C(e.values)},onError:function(e){(0,k.Am)(E("error.viewerDetails"),{hideProgressBar:!0,autoClose:2e3,type:"error"})}})}),[a]),t?(0,i.jsx)(S.Z,{}):(0,i.jsxs)("div",{className:"u-fixed-width",children:[(0,i.jsx)(v,{isWaiting:t,message:m,errors:h,submitText:E("viewer.panel.button"),macaddress:j.macaddress,user:j.user,monitor:j.monitor,channel:j.channel,language:j.language,videoURL:j.videoURL,onSubmit:function(e){(0,I.Ql)({args:e,viewerId:a,onSuccess:function(e){f(e.message),x(e.errors||[]),(0,k.Am)(E("successful.viewerDetails"),{hideProgressBar:!0,autoClose:2e3,type:"success"}),n(),_()},onError:function(e){(0,k.Am)(E("error.viewerUpdate"),{hideProgressBar:!0,autoClose:2e3,type:"error"}),e.errors&&D(e.errors)}})},values:N,validations:P}),(0,i.jsx)(l.UQ,{sections:[{content:(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(l.zx,{appearance:"negative",onClick:function(){(0,I.V1)({viewerId:a,onSuccess:function(e){f(e.message),(0,k.Am)(E("successful.viewerDelete"),{hideProgressBar:!0,autoClose:2e3,type:"success"}),n(),_()},onError:function(e){(0,k.Am)(E("error.viewerDelete"),{hideProgressBar:!0,autoClose:2e3,type:"error"})}})},children:E("viewer.panel.advanced.button")})}),title:E("viewer.panel.advanced.title")}]})]})},E=function(e){var a=e.updatePage,n=(0,r.Z)((0,o.useState)(!0),2),s=n[0],t=n[1],l=((0,o.useContext)(u.Ni).isDarkMode,(0,o.useContext)(u.pI).closeAsidePanel),c=(0,r.Z)((0,o.useState)({macaddress:"",user:"",monitor:"",channel:"",language:"",videoURL:""}),2),p=c[0],m=c[1],f=(0,r.Z)((0,o.useState)({}),2),v=f[0],h=f[1],x=(0,d.useTranslation)("").t;return(0,o.useEffect)((function(){s&&(0,I.TZ)({onSuccess:function(e){h(e),t(!1)},onError:function(e){e.errors&&(m(e.errors),(0,k.Am)(x("error.viewerCreateReq"),{hideProgressBar:!0,autoClose:2e3,type:"error"}))}})})),s?(0,i.jsx)(S.Z,{}):(0,i.jsx)("div",{className:"u-fixed-width",children:(0,i.jsx)(g,{isWaiting:s,onSubmit:function(e){t(!0),(0,I.zm)({args:e,onSuccess:function(e){t(!1),a(),l(),(0,k.Am)(x("successful.viewerCreate"),{hideProgressBar:!0,autoClose:2e3,type:"success"})},onError:function(e){e.errors&&m(e.errors),(0,k.Am)(x("error.viewerCreate"),{hideProgressBar:!0,autoClose:2e3,type:"error"})}})},validations:p,availableData:v})})},B=function(e){var a=e.user,n=e.updateUser,s=(0,r.Z)((0,o.useState)(!1),2),t=s[0],l=(s[1],(0,r.Z)((0,o.useState)(""),2)),c=l[0],p=l[1],m=(0,r.Z)((0,o.useState)([]),2),f=(m[0],m[1]),g=(0,r.Z)((0,o.useState)({language:a.locale,username:a.username,operator:a.operator}),2),v=g[0],h=(g[1],(0,o.useContext)(u.pI).closeAsidePanel),x=(0,r.Z)((0,o.useState)({password:"",confirmPassword:""}),2),b=x[0],Z=x[1],_=(0,d.useTranslation)("").t;return t?(0,i.jsx)(S.Z,{}):(0,i.jsx)("div",{className:"u-fixed-width",children:(0,i.jsx)(j,{isWaiting:t,message:c,submitText:_("edit"),onSubmit:function(e){(0,C.w8)({args:e,userId:a.id,onSuccess:function(e){p(e.message),f(e.errors||[]),Z(e.errors||[]),(0,k.Am)(_("successful.userProfile"),{hideProgressBar:!0,autoClose:2e3,type:"success"}),n(),h()},onError:function(e){(0,k.Am)(_("error.userProfile"),{hideProgressBar:!0,autoClose:2e3,type:"error"}),e.errors&&Z(e.errors)}})},validations:b,language:v.language,username:v.username,operator:v.operator})})}},8021:function(e,a,n){"use strict";n.d(a,{a:function(){return d}});var s=n(3842),t=n(5034),r=n(1373),i=n(5827),o=n(6131),l=n(4476),u=n(7378),c=n(6677),d=function(e){var a=e.middleware,n=e.redirectIfAuthenticated,d=(0,c.useRouter)(),p=(0,o.ZP)("/api/mui/manager/user",(function(){return l.Z.get("/api/mui/manager/user").then((function(e){return e.data})).catch((function(e){if(409!==e.response.status)throw e;d.push("/api/mui/manager/verify-email")}))})),m=p.data,f=p.error,g=p.mutate,v=function(){return l.Z.get("/sanctum/csrf-cookie")},h=function(){var e=(0,s.Z)((function(e){var a,n;return(0,i.__generator)(this,(function(s){switch(s.label){case 0:return a=e.setErrors,n=(0,r.Z)(e,["setErrors"]),[4,v()];case 1:return s.sent(),a([]),l.Z.post("/api/mui/manager/register",n).then((function(){return g()})).catch((function(e){if(422!==e.response.status)throw e;a(e.response.data.errors)})),[2]}}))}));return function(a){return e.apply(this,arguments)}}(),x=function(){var e=(0,s.Z)((function(e){var a,n,s;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return a=e.setErrors,n=e.setStatus,s=(0,r.Z)(e,["setErrors","setStatus"]),[4,v()];case 1:return t.sent(),a([]),n(null),l.Z.defaults.headers.common["Content-Type"]="application/json",l.Z.defaults.headers.common.Accept="application/json",l.Z.post("/api/mui/manager/login",s).then((function(){return g()})).catch((function(e){console.log(e),a(e.response.data)})),[2]}}))}));return function(a){return e.apply(this,arguments)}}(),b=function(){var e=(0,s.Z)((function(e){var a,n,s;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return a=e.setErrors,n=e.setStatus,s=e.email,[4,v()];case 1:return t.sent(),a([]),n(null),l.Z.post("/api/mui/manager/forgot-password",{email:s}).then((function(e){return n(e.data.status)})).catch((function(e){if(422!==e.response.status)throw e;a(e.response.data.errors)})),[2]}}))}));return function(a){return e.apply(this,arguments)}}(),j=function(){var e=(0,s.Z)((function(e){var a,n,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return a=e.setErrors,n=e.setStatus,s=(0,r.Z)(e,["setErrors","setStatus"]),[4,v()];case 1:return i.sent(),a([]),n(null),l.Z.post("/api/mui/manager/reset-password",(0,t.Z)({token:d.query.token},s)).then((function(e){return d.push("/api/mui/manager/login?reset="+btoa(e.data.status))})).catch((function(e){if(422!==e.response.status)throw e;a(e.response.data.errors)})),[2]}}))}));return function(a){return e.apply(this,arguments)}}(),Z=function(){var e=(0,s.Z)((function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return f?[3,2]:[4,l.Z.post("/api/mui/manager/logout").then((function(){return g()}))];case 1:e.sent(),e.label=2;case 2:return window.location.pathname="/manager/login",[2]}}))}));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){"guest"===a&&n&&m&&d.push(n),"/api/mui/manager/verify-email"===window.location.pathname&&(null===m||void 0===m?void 0:m.email_verified_at)&&d.push(n),"auth"===a&&f&&Z()}),[m,f]),{user:m,register:h,login:x,forgotPassword:b,resetPassword:j,resendEmailVerification:function(e){var a=e.setStatus;l.Z.post("/api/mui/manager/email/verification-notification").then((function(e){return a(e.data.status)}))},logout:Z}}},4862:function(e,a,n){"use strict";n.d(a,{Q2:function(){return l},UI:function(){return o},aZ:function(){return u},cl:function(){return r},ph:function(){return i}});var s,t=n(4476);function r(e){var a=e.params,n=e.onSuccess,s=e.onError;t.Z.get("/api/mui/manager/tickets",{params:a}).then((function(e){var a=e.data;n(a)})).catch((function(e){console.warn(e),s(e.response.data)}))}function i(e){var a=e.params,n=e.onSuccess,s=e.onError;t.Z.get("/api/mui/manager/tickets",{params:a}).then((function(e){var a=e.data;n(a)})).catch((function(e){console.warn(e),s(e.response)}))}function o(e){var a=e.params,n=e.onSuccess,s=e.onError;t.Z.get("/api/mui/manager/tickets/".concat(a.ticketId)).then((function(e){var a=e.data;n(("string"==typeof a?JSON.parse(a):a)||{})})).catch((function(e){s(e.response.data)}))}function l(e){var a=e.params,n=e.onSuccess,s=e.onError;t.Z.get("/api/mui/manager/tickets",{params:a}).then((function(e){var a=e.data;n(a)})).catch((function(e){s(e.response.data)}))}function u(e){var a=e.onSuccess,n=e.onError;t.Z.get("/api/mui/manager/autocomplete/shops").then((function(e){a(e.data)})).catch((function(e){n(e.response.data)}))}!function(e){e.shop="shop",e.operator="operator",e.date="date"}(s||(s={}))},5630:function(e,a,n){"use strict";n.d(a,{Fp:function(){return c},JL:function(){return l},Q0:function(){return u},dd:function(){return p},w8:function(){return d}});var s=n(5034),t=n(169),r=n(2050),i=n(4476),o=n(7378);function l(e){var a=e.itemsPerPage,n=(0,r.Z)((0,o.useState)(!0),2),l=n[0],u=n[1],c=(0,r.Z)((0,o.useState)({users:[],waiting:!0,pagination:{chunk:1,last_chunk:1,total:1,limit:a,displayedItems:1},goToPage:function(e,a,n){p((0,t.Z)((0,s.Z)({},d),{pagination:(0,t.Z)((0,s.Z)({},d.pagination),{chunk:e,limit:a})})),u(!0)},updatePage:function(){}}),2),d=c[0],p=c[1];return(0,o.useEffect)((function(){l&&(u(!1),p((0,t.Z)((0,s.Z)({},d),{waiting:!0})),function(e){var a=e.onSuccess,n=e.onError,s=e.pageIndex,t=e.numItemsPerPage;i.Z.get("/api/mui/manager/users",{params:{chunk:s,limit:t}}).then((function(e){var n=e.data;a(n)})).catch((function(e){n(e.response.data)}))}({pageIndex:d.pagination.chunk,numItemsPerPage:d.pagination.limit,onSuccess:function(e){p((0,t.Z)((0,s.Z)({},d),{waiting:!1,users:e.users,pagination:e.pagination}))},onError:function(e){p((0,t.Z)((0,s.Z)({},d),{waiting:!1}))}}))}),[d,l]),d}function u(e){var a=e.args,n=e.onSuccess,s=e.onError;i.Z.post("/api/mui/manager/users/create",a.args).then((function(e){n(e)})).catch((function(e){s(e.response.data)}))}function c(e){var a=e.userId,n=e.onSuccess,s=e.onError;i.Z.get("/api/mui/manager/users/".concat(a)).then((function(e){var a=e.data;n(a)})).catch((function(e){s(e.response.data)}))}function d(e){var a=e.args,n=e.onSuccess,s=e.onError,t=e.userId;i.Z.post("/api/mui/manager/users/".concat(t),a.args).then((function(e){var a=e.data;n(a)})).catch((function(e){s(e.response.data)}))}function p(e){var a=e.userId,n=e.onSuccess,s=e.onError;i.Z.delete("/api/mui/manager/users/".concat(a)).then((function(e){var a=e.data;n(a)})).catch((function(e){s(e.response.data)}))}},7554:function(e,a,n){"use strict";n.d(a,{Ql:function(){return d},TZ:function(){return u},V1:function(){return p},ae:function(){return o},bP:function(){return c},cP:function(){return i},zm:function(){return l}});var s=n(5034),t=n(169),r=n(4476),i=[{name:"id",accessor:"id",sortable:!0,defaultSort:"asc"},{name:"macaddress",accessor:"macaddress",sortable:!0},{name:"user",accessor:"user",sortable:!0},{name:"monitor",accessor:"monitor",sortable:!0},{name:"channel",accessor:"channel",sortable:!0},{name:"language",accessor:"language",sortable:!0},{name:"videoURL",accessor:"videoURL"}];function o(e){var a=e.onSuccess,n=e.onError,i=e.pageIndex,o=e.numItemsPerPage,l=e.args;r.Z.get("/api/mui/manager/viewers",{params:(0,t.Z)((0,s.Z)({},l),{chunk:i,limit:o})}).then((function(e){var n=e.data;a(n)})).catch((function(e){n(e)}))}function l(e){var a=e.args,n=e.onSuccess,s=e.onError;r.Z.post("/api/mui/manager/viewers/create",a.args).then((function(e){n(e)})).catch((function(e){s(e.response.data)}))}function u(e){var a=e.onSuccess,n=e.onError;r.Z.get("/api/mui/manager/viewers/create").then((function(e){var n=e.data;a(n)})).catch((function(e){n(e)}))}function c(e){var a=e.viewerId,n=e.onSuccess,s=e.onError;r.Z.get("/api/mui/manager/viewers/".concat(a)).then((function(e){var a=e.data;n(a)})).catch((function(e){s(e.response.data)}))}function d(e){var a=e.onSuccess,n=e.onError,s=(e.pageIndex,e.numItemsPerPage,e.viewerId),t=e.args;r.Z.post("/api/mui/manager/viewers/".concat(s),t.args).then((function(e){var n=e.data;a(n)})).catch((function(e){n(e.response.data)}))}function p(e){var a=e.viewerId,n=e.onSuccess,s=e.onError;r.Z.delete("/api/mui/manager/viewers/".concat(a)).then((function(e){var a=e.data;n(a)})).catch((function(e){s(e)}))}},4476:function(e,a,n){"use strict";var s=n(4206),t=n.n(s),r=n(7061),i=t().create({baseURL:r.env.NEXT_PUBLIC_BACKEND_URL,headers:{"X-Requested-With":"XMLHttpRequest"},withCredentials:!0});a.Z=i},7542:function(e,a,n){"use strict";n.d(a,{ET:function(){return s},RB:function(){return r},X$:function(){return t}});function s(){var e=new Date,a=(e.getDay()+6)%7;e.setDate(e.getDate()-a+3);var n=e.valueOf();e.setMonth(0,1),4!==e.getDay()&&e.setMonth(0,1+(4-e.getDay()+7)%7);var s=e.getFullYear(),t=1+Math.ceil((n-e)/6048e5);return t<10?"".concat(s,"-W0").concat(t):"".concat(s,"-W").concat(t)}function t(e){var a,n=new Date;return e?(n.setDate(n.getDate()-e),a=n.toISOString().slice(0,10).replace(/-/g,"-")):a=n.toISOString().slice(0,10),a}var r=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};if(e.length<=1)return e;for(var n=e[0],s=a(n),t=[],i=[],o=1;o<e.length;o++){var l=e[o],u=a(l);u<s?t.push(l):i.push(l)}return r(t,a).concat(n,r(i,a))}},5071:function(){}}]);